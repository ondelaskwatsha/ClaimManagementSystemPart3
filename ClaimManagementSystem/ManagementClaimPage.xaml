<Page x:Class="ClaimManagementSystem.ManageClaimsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid>
        <!-- Top-right Logout Button -->
        <StackPanel Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Margin="0,10,10,0">
            <TextBlock x:Name="txtWelcome"
                       Foreground="White"
                       Margin="0,0,10,0"
                       VerticalAlignment="Center"/>
            
        </StackPanel>

        <!-- Main Content -->
        <StackPanel Margin="20">
            <TextBlock Text="Manage Claims" FontSize="28" FontWeight="Bold" Margin="0,0,0,20"/>

            <!-- Search and Filters -->
            <Grid Margin="0,0,0,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBox Grid.Column="0" Padding="10" Text="Search claims..." Margin="0,0,10,0"/>
                <ComboBox Grid.Column="1" Width="150" Padding="10" Margin="0,0,10,0" SelectedIndex="0">
                    <ComboBoxItem Content="All Statuses"/>
                    <ComboBoxItem Content="Draft"/>
                    <ComboBoxItem Content="Submitted"/>
                    <ComboBoxItem Content="Under Review"/>
                    <ComboBoxItem Content="Approved"/>
                    <ComboBoxItem Content="Paid"/>
                    <ComboBoxItem Content="Rejected"/>
                </ComboBox>
                <ComboBox Grid.Column="2" Width="150" Padding="10" SelectedIndex="0">
                    <ComboBoxItem Content="All Departments"/>
                    <ComboBoxItem Content="Computer Science"/>
                    <ComboBoxItem Content="Mathematics"/>
                    <ComboBoxItem Content="Physics"/>
                </ComboBox>
            </Grid>

            <!-- Claims DataGrid -->
            <DataGrid x:Name="dgAllClaims" AutoGenerateColumns="False" IsReadOnly="True"
                      HeadersVisibility="Column" Margin="0,0,0,20">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="User" Binding="{Binding UserEmail}" Width="200"/>
                    <DataGridTextColumn Header="Claim Title" Binding="{Binding Title}" Width="*"/>
                    <DataGridTextColumn Header="Month/Year" Binding="{Binding MonthYear}" Width="100"/>
                    <DataGridTextColumn Header="Hours" Binding="{Binding Hours}" Width="80"/>
                    <DataGridTextColumn Header="Amount" Binding="{Binding Amount, StringFormat=R{0:N0}}" Width="100"/>
                    <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100"/>
                    <DataGridTextColumn Header="Submitted" Binding="{Binding SubmittedDate, StringFormat=MM/dd/yyyy}" Width="100"/>
                    <DataGridTemplateColumn Header="Actions" Width="120">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Button Content="Review" Padding="5,2" Margin="2" Click="BtnReview_Click"/>
                                    <Button Content="Approve" Padding="5,2" Margin="2" Click="BtnApprove_Click"/>
                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>

            <!-- Summary -->
            <Border Background="#f8f9fa" Padding="15" CornerRadius="5">
                <TextBlock x:Name="txtSummary" FontWeight="SemiBold"/>
            </Border>
        </StackPanel>
    </Grid>
</Page>